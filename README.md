# 🏀 24-25 시즌 NBA 플레이오프 우승팀 예측 프로젝트

> **프로젝트 정보**
> - **소속**: 빅데이터응용학과
> - **작성자**: 김재현 (20202810)
> - **주제**: 2024-25 NBA 플레이오프 우승팀 예측을 위한 회귀 모델링 및 시뮬레이션

## 🎯 프로젝트 개요

### 분석 목적
- 2024-25 NBA 플레이오프 진출팀을 대상으로 주요 경기 지표와 팀 특성을 반영한 **회귀 예측 모델을 설계**하여, 팀별 **득점 점수를 정량적으로 예측**
- **몬테카를로 시뮬레이션**을 통해 플레이오프 경기 결과를 가상으로 재현하여 최종 **우승 가능성을 추정**

### 배경 및 필요성
- **(산업)** 스포츠 예측 산업의 성장으로 방송, 구단 등에서 데이터 기반 예측 수요가 증가
- **(분석)** 단일 지표(평균 득점, 승률)만으로는 NBA 경기의 복합적 특성을 반영하기 어려움
- **(가치)** 머신러닝 기반 모델을 통해 팀 전략 수립과 경기 결과 예측을 지원하여 실질적인 의사결정 가치 제공

### 분석 로드맵
`탐색적 데이터 분석` → `데이터 전처리` → `모델링` → `최종 예측 결과` → `결론`

---

## 📊 탐색적 데이터 분석 (EDA)

### 최근 성적 변수의 예측력 검증
최근 5경기의 평균 득점이 시즌 전체 평균 득점보다 실제 경기 득점과의 상관관계가 **약 2.2배** 높게 나타났습니다.

- **최근 5경기 평균 득점 상관계수**: `0.564`
- **시즌 전체 평균 득점 상관계수**: `0.252`

### 시뮬레이션 노이즈 설정 검증
시뮬레이션에 설정된 노이즈 값(표준편차 `12.0`)이 실제 NBA 경기 득점의 표준편차(`12.72`)와 유사하여, **실제 경기의 변동성을 적절히 반영**하고 있음을 확인했습니다.

### 홈 코트 어드밴티지 분석
- **홈팀 평균 득점**: `112.3점`
- **어웨이팀 평균 득점**: `110.1점`
- **홈 어드밴티지**: **평균 2.23점**의 득점 우위 (홈팀 승률 56.6%)

---

## 🛠️ 데이터 및 피처 엔지니어링

### 사용 데이터
- **기간**: 2017~2025 시즌 정규리그 및 플레이오프
- **변수**: 팀별 득점, 실점, 리바운드, 어시스트, FG%, 3P%, FT% 등 주요 스탯

### 데이터 전처리
1. **결측치 처리**: `평균` 또는 `중앙값`으로 대체
2. **이상치 처리**: `IQR` 및 `Z-score` 기준으로 탐지 및 제거
3. **스케일링**: 이상치에 강건한 `RobustScaler` 사용

### 변수 중요도 및 파생변수 생성
`PCA`를 통해 변수 중요도를 분석하고, 상위 15개 핵심 변수를 기반으로 파생 변수를 생성했습니다.

- **홈/어웨이 효과**: `HOME_ADVANTAGE`
- **시즌 진행 관련**: `GAME_NUM`, `SEASON_PROGRESS`
- **팀 간 상호작용**: `OPP_PTS_DIFF`, `FG_EFFICIENCY`
- **최근 성적 기반 (5경기)**: `RECENT_PTS_AVG`, `RECENT_WIN_RATE`

---

## 🤖 모델링

### 모델 비교
XGBoost, RandomForest, LightGBM, CatBoost 네 가지 모델의 성능을 비교했습니다.

| 모델 | 평가 지표 | 학습 데이터 | 검증 데이터 |
|------|-----------|-------------|-------------|
| **XGBoost** | **RMSE** | **4.06** | **4.66** |
| | **MAE** | **3.19** | **3.68** |
| | **R²** | **0.89** | **0.85** |
| Random Forest | RMSE | 5.51 | 5.72 |
| | MAE | 4.37 | 4.53 |
| | R² | 0.80 | 0.78 |
| LightGBM | RMSE | 4.30 | 4.70 |
| | MAE | 3.39 | 3.72 |
| | R² | 0.88 | 0.85 |
| CatBoost | RMSE | 4.93 | 5.02 |
| | MAE | 3.92 | 3.99 |
| | R² | 0.84 | 0.83 |

### 최종 모델 선정 및 최적화
> **최종 모델: XGBoost**
> 
> - **선정 이유**: 교차검증 전후 성능 변동 폭이 가장 적어 예측이 안정적이고, 검증 데이터에서 가장 우수한 성능(MAE: 3.68)을 보였습니다.
> - **최적화**: `GridSearchCV`를 통해 하이퍼파라미터를 튜닝하여 예측 정확도를 소폭 개선했습니다 (MAE: 3.68 → 3.65).

---

## 🏆 시뮬레이션 및 최종 예측 결과

### 시뮬레이션 설계
- **방법론**: 몬테카를로 시뮬레이션 (1,000회 반복)
- **주요 파라미터**: 노이즈 표준편차(12.0), 홈 어드밴티지(1.0~1.5점), 최근 5경기 가중치(0.3)
- **현실성 확보**: 득점 범위를 70~150점으로 제한하고, 실제 경기 패턴을 반영

### 최종 예측 결과
시뮬레이션 결과, **오클라호마시티 썬더(OKC)**가 최종 우승팀으로 예측되었습니다.

- **서부 4강**: **OKC** (4) vs MIN (2)
- **동부 4강**: **IND** (4) vs NYK (3)
- **파이널**: **OKC** (4) vs IND (3)

| 경기 | G1 | G2 | G3 | G4 | G5 | G6 | G7 | 최종 |
|------|----|----|----|----|----|----|----|-----|
| **파이널** | **OKC** | **OKC** | IND | IND | **OKC** | IND | **OKC** | **OKC 승리** |
| 스코어 | 125-123 | 125-122 | 120-122 | 118-123 | 126-122 | 122-125 | 128-112 | **4:3** |

---

## 📁 프로젝트 구조

### 필수 파일
```
├── NBA_Championship_Prediction_Clean.ipynb  # 메인 분석 노트북
├── README.md                                # 프로젝트 설명서
├── requirements.txt                         # 필요한 라이브러리 목록
├── 2017_2023_정규_플옵_재구성완료.csv        # 훈련 데이터
├── 2024_25_파생변수_포함_WIN_PROB_최종.csv    # 검증 데이터
└── Project_Summary_Notion.md               # 노션 정리 문서
```

### 결과 파일 (선택적)
```
├── model_performance_comparison.csv         # 모델 성능 비교 결과
├── nba_playoffs_simulation_results.csv     # 시뮬레이션 결과
└── feature_importance_analysis.csv         # 피처 중요도 분석
```

---

## 🛠️ 설치 및 실행

### 1. 필요 라이브러리 설치
```bash
pip install -r requirements.txt
```

### 2. 노트북 실행
```bash
jupyter notebook NBA_Championship_Prediction_Clean.ipynb
```

---

## 📈 주요 성과

### 기술적 성과
- **4개 모델 비교 분석**: XGBoost, LightGBM, Random Forest, CatBoost
- **최적 모델 선정**: XGBoost (R² = 0.89, MAE = 3.68)
- **1000회 시뮬레이션**: 확률적 예측을 통한 신뢰성 있는 결과 도출

### 비즈니스 가치
- **정량적 예측**: 팀별 득점을 수치적으로 예측 가능
- **전략적 활용**: 구단 운영 및 경기 전략 수립 지원
- **산업 활용**: 스포츠 예측 산업의 데이터 활용 고도화

---

## 💡 활용 방안 및 기대효과

### 활용 방안
- **경기 전 득점 차 예측**: 객관적 수치 기반 예측으로 신뢰도 향상
- **해설 및 팬 콘텐츠 자료**: 데이터 기반 분석 자료 제공
- **구단 운영 전략 수립 지원**: 팀 성과 예측을 통한 전략적 의사결정

### 기대 효과
- 객관적 수치 기반 예측으로 신뢰도 향상
- 스포츠 산업 데이터 활용 고도화에 기여

---

## 🔄 한계 및 후속 과제

### 현재 한계
- 현재 모델은 득점 예측에 초점을 맞추고 있으며, 정규시즌 데이터 기반으로 설계되었습니다.

### 향후 과제
- 승패 예측 모델과 앙상블 기법을 도입
- 선수별 실시간 변수(부상 정보 등)를 포함하여 모델을 고도화할 계획

---

## 📤 깃허브 업로드 가이드

### 1. 필수 파일 업로드
```bash
# 메인 파일들
git add NBA_Championship_Prediction_Clean.ipynb
git add README.md
git add requirements.txt

# 핵심 데이터 파일들
git add 2017_2023_정규_플옵_재구성완료.csv
git add 2024_25_파생변수_포함_WIN_PROB_최종.csv

git commit -m "Initial commit: NBA Championship Prediction Analysis"
git push origin main
```

### 2. .gitignore 권장사항
```
# 대용량 파일 제외
*.csv
!2017_2023_정규_플옵_재구성완료.csv
!2024_25_파생변수_포함_WIN_PROB_최종.csv

# 기타 제외 파일
__pycache__/
*.pyc
.ipynb_checkpoints/
```

---

## 🤝 기여하기

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

---

## 📄 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다.

## 📞 연락처

프로젝트 관련 문의사항이 있으시면 이슈를 생성해 주세요.

---

**Made with ❤️ for NBA Analytics**
